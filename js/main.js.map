{"version":3,"sources":["main.es6.js"],"names":["markedOptions","gfm","tables","breaks","smartypants","editor","ace","edit","setTheme","getSession","setMode","renderer","setScrollMargin","setOption","value","window","location","hash","setValue","LZString","decompressFromBase64","substr","decompressFromUTF16","localStorage","getItem","document","getElementById","innerHTML","marked","timeout","on","clearTimeout","getValue","compressToBase64","setTimeout","setItem","compressToUTF16"],"mappings":";;AAAA;AACA,IAAMA,gBAAgB;AAClBC,SAAK,IADa;AAElBC,YAAQ,KAFU,EAEH;AACfC,YAAQ,IAHU;AAIlBC,iBAAa;AAJK,CAAtB;;AAOA;AACA,IAAIC,SAASC,IAAIC,IAAJ,CAAS,QAAT,CAAb;AACA;AACAF,OAAOG,QAAP,CAAgB,0BAAhB;AACAH,OAAOI,UAAP,GAAoBC,OAApB,CAA4B,mBAA5B;AACA;AACAL,OAAOM,QAAP,CAAgBC,eAAhB,CAAgC,EAAhC,EAAoC,CAApC;AACAP,OAAOQ,SAAP,CAAiB,eAAjB,EAAkC,CAAlC;;AAGA;AAAC;AACG,QAAIC,cAAJ;AACA,QAAIC,OAAOC,QAAP,CAAgBC,IAAhB,IAAwB,EAAxB,IAA8BF,OAAOC,QAAP,CAAgBC,IAAhB,IAAwB,GAA1D,EAA+D;AAC3D;AACAZ,eAAOI,UAAP,GAAoBS,QAApB,CAA6BJ,QAAQK,SAASC,oBAAT,CAA8BL,OAAOC,QAAP,CAAgBC,IAAhB,CAAqBI,MAArB,CAA4B,CAA5B,CAA9B,CAArC;AACH,KAHD,MAGO;AACH;AACAhB,eAAOI,UAAP,GAAoBS,QAApB,CAA6BJ,QAAQK,SAASG,mBAAT,CAA6BC,aAAaC,OAAb,CAAqB,wBAArB,CAA7B,CAArC;AACH;;AAED;AACAC,aAASC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,GAA8CC,OAAOd,KAAP,EAAcd,aAAd,CAA9C;AACH;;AAED;AAAC;AACG,QAAI6B,gBAAJ;AACAxB,WAAOI,UAAP,GAAoBqB,EAApB,CAAuB,QAAvB,EAAiC,YAAM;AACnCf,eAAOgB,YAAP,CAAoBF,OAApB;;AAEA;AACA,YAAIf,QAAQT,OAAOI,UAAP,GAAoBuB,QAApB,EAAZ;AACAP,iBAASC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,GAA8CC,OAAOd,KAAP,EAAcd,aAAd,CAA9C;;AAEA;AACAe,eAAOC,QAAP,CAAgBC,IAAhB,GAAuBE,SAASc,gBAAT,CAA0BnB,KAA1B,CAAvB;;AAEA;AACAe,kBAAUd,OAAOmB,UAAP,CAAkB,YAAW;AACnCnB,mBAAOQ,YAAP,CAAoBY,OAApB,CAA4B,MAA5B,EAAoChB,SAASiB,eAAT,CAAyBtB,KAAzB,CAApC;AACH,SAFS,EAEP,IAFO,CAAV;AAGH,KAdD;AAeH","file":"main.js","sourcesContent":["// Set options for the Markdown parser\nconst markedOptions = {\n    gfm: true,\n    tables: false, // TODO: Style and enable tables\n    breaks: true,\n    smartypants: true\n};\n\n// Initialize the ace editor\nlet editor = ace.edit(\"editor\");\n// Set the theme and language mode for the editor\neditor.setTheme(\"ace/theme/tomorrow_night\");\neditor.getSession().setMode(\"ace/mode/markdown\");\n// Set scrolling margins for the editor\neditor.renderer.setScrollMargin(56, 0);\neditor.setOption(\"scrollPastEnd\", 1);\n\n\n{// Load stored content into the editor\n    let value;\n    if (window.location.hash != \"\" && window.location.hash != \"#\") {\n        // Load from the hash in the URL\n        editor.getSession().setValue(value = LZString.decompressFromBase64(window.location.hash.substr(1)));\n    } else {\n        // Load from localStorage\n        editor.getSession().setValue(value = LZString.decompressFromUTF16(localStorage.getItem(\"material-mark-document\")));\n    }\n    \n    // Parse the value that was just loaded and place the result in the preview\n    document.getElementById(\"output\").innerHTML = marked(value, markedOptions);\n}\n\n{// Enable live preview and autosave\n    let timeout;\n    editor.getSession().on(\"change\", () => {\n        window.clearTimeout(timeout);\n\n        // Get and parse the value from the editor\n        let value = editor.getSession().getValue();\n        document.getElementById(\"output\").innerHTML = marked(value, markedOptions);\n\n        // Save the value into the URL hash\n        window.location.hash = LZString.compressToBase64(value);\n\n        // Save the value to localStorage after 3 seconds of inactivity\n        timeout = window.setTimeout(function() {\n            window.localStorage.setItem(\"data\", LZString.compressToUTF16(value));\n        }, 3000);\n    });\n}\n"]}